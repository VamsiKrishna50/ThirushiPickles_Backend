"use strict";(self.webpackChunkpickle=self.webpackChunkpickle||[]).push([[600],{7600:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(5043),o=r(4218),c=r(3003),s=r(3969),l=r(172),a=r(8040),i=r(9722),u=r(579);const p=()=>{const[e]=(0,o.ok)(),t=(0,o.Zp)(),r=(0,c.wA)(),p=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(p.current)return;const n=e.get("token");if(n){p.current=!0,localStorage.setItem("token",n),i.A.defaults.headers.common.Authorization="Bearer ".concat(n);try{const e=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(e).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),c={username:JSON.parse(o).sub,role:"CUSTOMER"};r((0,a.Ne)({token:n,user:c})),t("/customer",{replace:!0})}catch(o){console.error("Error processing OAuth token:",o),t("/login",{replace:!0})}}else t("/login",{replace:!0})},[]),(0,u.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:(0,u.jsx)(l.A,{})})}}}]);
//# sourceMappingURL=600.a373c162.chunk.js.map