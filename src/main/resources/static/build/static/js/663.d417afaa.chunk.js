"use strict";(self.webpackChunkpickle=self.webpackChunkpickle||[]).push([[663],{883:(e,t,s)=>{s.d(t,{A:()=>n});const n=(0,s(7675).Ay)()},1663:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(5043),a=s(4218),r=s(172),i=s(9806),o=s(4799),d=s(3969),l=s(5895),c=s(2097),m=s(6803),p=s(4958),h=s(3699),u=s(2579),x=s(3201),A=s(3665),b=s(2632),v=s(9722),f=s(579);const g=()=>{const[e]=(0,a.ok)(),t=(0,a.Zp)(),s=e.get("token"),[g,j]=(0,n.useState)(""),[y,w]=(0,n.useState)(""),[S,k]=(0,n.useState)(!1),[N,P]=(0,n.useState)(!1),[W,C]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!0),[L,z]=(0,n.useState)(!1),[E,G]=(0,n.useState)(!1),[I,T]=(0,n.useState)(""),q="https://thirushipickles-backend-1.onrender.com";(0,n.useEffect)(()=>{F()},[s]);const F=async()=>{if(!s)return T("Invalid reset link"),void M(!1);try{(await v.A.get("".concat(q,"/api/auth/reset-password/validate?token=").concat(s))).data.valid?z(!0):T("This reset link is invalid or has expired")}catch(e){T("Failed to validate reset link")}finally{M(!1)}};return R?(0,f.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:(0,f.jsx)(r.A,{size:60,className:"text-red-600"})}):E?(0,f.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:(0,f.jsx)(i.A,{maxWidth:"sm",children:(0,f.jsx)(o.A,{elevation:10,className:"p-8 rounded-lg",children:(0,f.jsxs)(d.A,{textAlign:"center",children:[(0,f.jsx)(x.A,{sx:{fontSize:80,color:"#2e7d32",mb:2}}),(0,f.jsx)(l.A,{variant:"h4",className:"font-bold mb-3",children:"Password Reset Successful!"}),(0,f.jsx)(l.A,{variant:"body1",color:"textSecondary",className:"mb-4",children:"Your password has been successfully reset."}),(0,f.jsx)(l.A,{variant:"body2",color:"textSecondary",children:"Redirecting to login page..."})]})})})}):L?(0,f.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:(0,f.jsx)(i.A,{maxWidth:"sm",children:(0,f.jsxs)(o.A,{elevation:10,className:"p-8 rounded-lg",children:[(0,f.jsxs)(d.A,{mb:4,textAlign:"center",children:[(0,f.jsx)(l.A,{variant:"h3",className:"font-bold text-red-600 mb-2",children:"\ud83d\udd10 Reset Password"}),(0,f.jsx)(l.A,{variant:"body1",color:"textSecondary",children:"Enter your new password below"})]}),I&&(0,f.jsx)(m.A,{severity:"error",className:"mb-4",children:I}),(0,f.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.length<6)T("Password must be at least 6 characters long");else if(g===y){C(!0),T("");try{(await v.A.post("".concat(q,"/api/auth/reset-password"),{token:s,newPassword:g})).data.success&&(G(!0),setTimeout(()=>{t("/login")},3e3))}catch(r){var n,a;T((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to reset password")}finally{C(!1)}}else T("Passwords do not match")},children:[(0,f.jsx)(p.A,{fullWidth:!0,label:"New Password",type:S?"text":"password",value:g,onChange:e=>j(e.target.value),margin:"normal",required:!0,disabled:W,InputProps:{endAdornment:(0,f.jsx)(h.A,{position:"end",children:(0,f.jsx)(u.A,{onClick:()=>k(!S),children:S?(0,f.jsx)(b.A,{}):(0,f.jsx)(A.A,{})})})}}),(0,f.jsx)(p.A,{fullWidth:!0,label:"Confirm Password",type:N?"text":"password",value:y,onChange:e=>w(e.target.value),margin:"normal",required:!0,disabled:W,InputProps:{endAdornment:(0,f.jsx)(h.A,{position:"end",children:(0,f.jsx)(u.A,{onClick:()=>P(!N),children:N?(0,f.jsx)(b.A,{}):(0,f.jsx)(A.A,{})})})}}),(0,f.jsx)(l.A,{variant:"caption",color:"textSecondary",className:"mt-2 block",children:"Password must be at least 6 characters long"}),(0,f.jsx)(c.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:W,className:"mt-6 bg-red-600 hover:bg-red-700",children:W?(0,f.jsx)(r.A,{size:24}):"Reset Password"})]})]})})}):(0,f.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:(0,f.jsx)(i.A,{maxWidth:"sm",children:(0,f.jsx)(o.A,{elevation:10,className:"p-8 rounded-lg",children:(0,f.jsxs)(d.A,{textAlign:"center",children:[(0,f.jsx)(l.A,{variant:"h3",className:"mb-4",children:"\u26a0\ufe0f"}),(0,f.jsx)(l.A,{variant:"h5",className:"font-bold mb-3",children:"Invalid Reset Link"}),(0,f.jsx)(l.A,{variant:"body1",color:"textSecondary",className:"mb-4",children:I||"This password reset link is invalid or has expired."}),(0,f.jsx)(c.A,{variant:"contained",onClick:()=>t("/forgot-password"),className:"bg-red-600 hover:bg-red-700",children:"Request New Link"})]})})})})}},2335:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(4599);var a=s(4265);function r(e){let{props:t,name:s,defaultTheme:r,themeId:i}=e,o=(0,a.A)(r);return i&&(o=o[i]||o),function(e){const{theme:t,name:s,props:a}=e;return t&&t.components&&t.components[s]&&t.components[s].defaultProps?(0,n.A)(t.components[s].defaultProps,a):a}({theme:o,name:s,props:t})}},2632:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(9992),a=s(579);const r=(0,n.A)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},3201:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(9992),a=s(579);const r=(0,n.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},3665:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(9992),a=s(579);const r=(0,n.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},3699:(e,t,s)=>{s.d(t,{A:()=>w});var n=s(9379),a=s(45),r=s(5043),i=s(8387),o=s(1807),d=s(7194),l=s(5895),c=s(8736),m=s(8700),p=s(8128),h=s(1612),u=s(8301),x=s(9857),A=s(6061);function b(e){return(0,A.Ay)("MuiInputAdornment",e)}const v=(0,x.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var f=s(579);const g=["children","className","component","disablePointerEvents","disableTypography","position","variant"];var j;const y=(0,p.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t["position".concat((0,d.A)(s.position))],!0===s.disablePointerEvents&&t.disablePointerEvents,t[s.variant]]}})((0,h.A)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}})),w=r.forwardRef(function(e,t){const s=(0,u.b)({props:e,name:"MuiInputAdornment"}),{children:p,className:h,component:x="div",disablePointerEvents:A=!1,disableTypography:v=!1,position:w,variant:S}=s,k=(0,a.A)(s,g),N=(0,m.A)()||{};let P=S;S&&N.variant,N&&!P&&(P=N.variant);const W=(0,n.A)((0,n.A)({},s),{},{hiddenLabel:N.hiddenLabel,size:N.size,disablePointerEvents:A,position:w,variant:P}),C=(e=>{const{classes:t,disablePointerEvents:s,hiddenLabel:n,position:a,size:r,variant:i}=e,l={root:["root",s&&"disablePointerEvents",a&&"position".concat((0,d.A)(a)),i,n&&"hiddenLabel",r&&"size".concat((0,d.A)(r))]};return(0,o.A)(l,b,t)})(W);return(0,f.jsx)(c.A.Provider,{value:null,children:(0,f.jsx)(y,(0,n.A)((0,n.A)({as:x,ownerState:W,className:(0,i.A)(C.root,h),ref:t},k),{},{children:"string"!==typeof p||v?(0,f.jsxs)(r.Fragment,{children:["start"===w?j||(j=(0,f.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,p]}):(0,f.jsx)(l.A,{color:"textSecondary",children:p})}))})})},9806:(e,t,s)=>{s.d(t,{A:()=>y});var n=s(45),a=s(9379),r=s(5043),i=s(8387),o=s(6061),d=s(1807),l=s(3635),c=s(2335),m=s(883),p=s(9049),h=s(579);const u=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,p.A)(),A=(0,m.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t["maxWidth".concat((0,l.A)(String(s.maxWidth)))],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),b=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:x});var v=s(7194),f=s(8128),g=s(8301);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=A,useThemeProps:s=b,componentName:c="MuiContainer"}=e,m=t(e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto"},!s.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:s}=e;return s.fixed&&Object.keys(t.breakpoints.values).reduce((e,s)=>{const n=s,a=t.breakpoints.values[n];return 0!==a&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(a).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:s}=e;return(0,a.A)((0,a.A)({},"xs"===s.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}}),s.maxWidth&&"xs"!==s.maxWidth&&{[t.breakpoints.up(s.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[s.maxWidth]).concat(t.breakpoints.unit)}})}),p=r.forwardRef(function(e,t){const r=s(e),{className:p,component:x="div",disableGutters:A=!1,fixed:b=!1,maxWidth:v="lg",classes:f}=r,g=(0,n.A)(r,u),j=(0,a.A)((0,a.A)({},r),{},{component:x,disableGutters:A,fixed:b,maxWidth:v}),y=((e,t)=>{const{classes:s,fixed:n,disableGutters:a,maxWidth:r}=e,i={root:["root",r&&"maxWidth".concat((0,l.A)(String(r))),n&&"fixed",a&&"disableGutters"]};return(0,d.A)(i,e=>(0,o.Ay)(t,e),s)})(j,c);return(0,h.jsx)(m,(0,a.A)({as:x,ownerState:j,className:(0,i.A)(y.root,p),ref:t},g))});return p}({createStyledComponent:(0,f.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t["maxWidth".concat((0,v.A)(String(s.maxWidth)))],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,g.b)({props:e,name:"MuiContainer"})}),y=j}}]);
//# sourceMappingURL=663.d417afaa.chunk.js.map